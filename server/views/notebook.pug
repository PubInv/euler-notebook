//-
  Math Tablet
  Copyright (C) 2019 Public Invention
  https://pubinv.github.io/PubInv/

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.

extends layout

mixin menuBar
  #menu
    div TBD: Menu
    div
      a(href='/') home
      | /
      each segment, i in pathSegments
        - const url = '/' + pathSegments.slice(0,i+1).join('/')
        a(href=url)= segment
        | /
      = notebookName
    div TBD


block metatags
  //- These meta tags are copied from MyScript samples.
  meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")
  meta(name="apple-mobile-web-app-capable", content="yes")
  meta(name="mobile-web-app-capable", content="yes")
  meta(name="HandheldFriendly", content="true")

block styles
  link(rel='stylesheet', href='/stylesheets/myscript.min.css')
  link(rel='stylesheet', href='/stylesheets/katex-0.10.1.css')
  link(rel='stylesheet', href='/stylesheets/notebook.css')

block scripts
  script(src='/javascripts/pep-0.4.3.js')
  script(src='/javascripts/katex-0.10.1.js')
  script(src='/javascripts/myscript.min.js')
  script(type='module', src='/javascripts/app.js')

block content
  +menuBar
  #tdoc
  #footer
    #previewArea
      #previewText(style='display:none')
      #previewMath(style='display:none')
      #previewKeyboard(style='display:none')
      #previewControls
        button#insertButton(disabled=true) I
    #inputArea('data-applicationkey'=credentials.myscript.applicationKey, 'data-hmackey'=credentials.myscript.hmacKey)
      #inputSelector
        button#inputMathButton HM
        button#inputTextButton HT
        button#inputKeyboardButton KB
      #inputText(style='display:none')
      #inputMath(style='display:none')
      #inputKeyboard(style='display:none')
        select()
          option(value='LATEX') LaTeX
          option(value='MATHJS') MathJS
          option(value='TEXT') Text
          option(value='WOLFRAM', selected=true) Wolfram
        input(type='text', placeholder="e.g. r = x^2 + y^2", style='width:100%')
      #inputControls
        button#undoButton(disabled=true) U
        button#redoButton(disabled=true) R
        button#clearButton(disabled=true) Cl
        button#convertButton(disabled=true) Co

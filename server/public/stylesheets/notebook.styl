/*
Math Tablet
Copyright (C) 2019 Public Invention
https://pubinv.github.io/PubInv/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

// Globals

:root
  --cell-left-margin 60px
  --page-aspect-ratio calc(8.5 / 11)
  --tools-height 20%
  --svg-left-offset 6px
  --svg-top-offset 3px

// Specific elements

#cellView
  border-left 1px solid pink
  display flex
  flex-flow column nowrap
  margin-left var(--cell-left-margin)
  margin-top 60px
  min-height 100%
  width 100%

#content
  height calc(100% - var(--header-height))
  left var(--sidebar-width)
  overflow scroll
  position fixed
  top var(--header-height)
  width calc(100% - var(--sidebar-width))

#debugPopup
  background-color #eeeeee
  border 1px solid black
  font-size smaller
  height 80%
  left 10%
  overflow hidden
  overflow-y scroll
  position absolute
  top 10%
  white-space nowrap
  width 80%
  z-index 10

  .close
    position absolute
    top 0
    right 0
    background-color transparent
    background-repeat no-repeat
    border none
    cursor pointer
    overflow hidden
    outline none

  .content
    padding 1em

    .nested
      padding-left 1em

    .collapsed::before
      content "\0025b6 "

    .expanded::before
      content "\0025bc "

    .leaf::before
      content "\0025cf "

#notebookView
  background-color #eeeeee
  min-height 100%

  .cell

    .formula
      flex-grow 1

    .handle
      padding 4px 0 4px 0
      text-align right
      width 36px

    .prefix
      padding-left 40px

    .status
      text-align left
      width 36px

  .cell.selected
    outline 1px dotted blue

  .formulaCell
    align-items center
    display flex
    flex-direction row
    padding 9px 0 9px 0

  .hintCell
    padding-left 20px

  .inkCell
    padding var(--svg-top-offset) 6px 3px var(--svg-left-offset)
    position relative

    .deleteCellButton
      background transparent
      border none
      top 0
      color lightgray
      padding 3px 12px 3px 3px
      position absolute
      right 0

    .dragIcon
      padding 6px 12px 6px 6px
      position absolute
      right 0
      top 30px

      svg
        fill lightgray

    .insertCellBelowButton
      background transparent
      border none
      bottom -11px
      color gray
      left 0
      padding 3px 3px 3px 6px
      position absolute
      z-index 10

    .stylusDrawingPanel
      background-color transparent
      display block
      fill none
      left var(--svg-left-offset)
      pen-action none
      position absolute
      stroke gray
      top var(--svg-top-offset)
      touch-action none

    .svgPanel
      background-color white
      display block
      fill none
      stroke black


#notebookView:focus
  background-color #f8f8f8
  outline none

#pageView
#thumbnailView
  background-color lightgray
  display flex
  flex-flow row wrap
  min-height 100%
  outline none
  width 100%

#tools
  background-color transparent
  border-top 1px solid gray
  bottom 0
  left 0
  position fixed
  padding 20px
  right 0
  height var(--tools-height)

  .tool
    color blue
    background-color transparent
    border none
    display block
    padding-right 0
    padding-left 2px
    text-decoration underline

// Element classes

.error
  color red
  font-size x-small

.inputPanel
  outline 1px solid blue

  .inputRow
    align-items center
    display flex

  .messages
    color red
    font-size x-small
    min-height 20px
    padding 2px

  .preview
    min-height 60px
    padding 8px

  .selectors
    padding 0 12px 0 8px

  .stylusInputPanel
    background-color #F8F8F8
    display block
    fill none
    margin 6px 0 0 0
    pen-action none
    touch-action none
    stroke black

  select
    display block
    width 92px

  textArea
    display block
    height 1in
    padding 8px
    width calc(100% - 8px)


.page
  background-color white
  outline 1px solid black

.page.selected
    outline 2px solid blue

// Element types
